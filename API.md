API Просто страницы

Используется пространство имен Mf\Stream.


Сервис Mf\Stream\Stream

Вызов | описание
------|--------------
 setStreamName(string $name):void | установить и инициализировать модуль для выбранного раздела лент, $name равен ключу из конфига секции streams->categories
 LoadList():array | Получить список статей, данной категории, массив объектов
 LoadDetal($url):string | Получить контент по его URL, статус должен быть 1
 LoadLastList($limit=3):array | Получить последние элменты ленты, в виде массива объектов
 getCategories():array | получить список досуптных не пустых разделов лент (по формату, см. файл сервиса)
 getMap():array | получить список всех URL, дату модификации, для создания карты сайта
 getMaxLastMod():array | получить максимальную дату модификации и кол-во элементов на публикации
 isMultiLocale():bool | true-сайт мультиязычный, иначе моноязычный
 SetLocale($locale=NULL):void | Устанавливает локаль страниц, проверяется на допустимость локали, по умолчанию стоит ru_RU, null - ничего не делать
 GetLocale():string | Получить строку текущей локали
 getConfigStreamItem(string $name=null):array | конфигурацию текущей или выбранной категории, все склеивается со значениями по умолчанию
 getServerDefaultUri():string | Получить канонический адрес сайта (из конфига)
 
Помощник Mf\Stream\View\Helper

Опции по умолчанию (фрагмент из помощника):
```php
    protected $_default=[
       "locale"=>"ru_RU",         //имя локали
       "items"=>3,                //кол-во элементов в выводе последних статей
       "tpl"=>"lastdefault",      //сценарий генерации HTML
    ];
```
Вызов | описание
------|--------------
__invoke($stream_name,array $options=[])) | Магический метод при обращении из сценария вывода. $stream_name - имя ленты, $options - опции. 


Для мультиязычного сайта создайте нужное количество аналогичных маршрутов с указанием локали.


По умолчанию устанавливается следующая конфигурация:
```php
'streams'=>[
        "config"=>[
            'status'=>[
                0=>"Не опубликовано или на модерации",
                1=>"Опубликовано",
            ],
        ],

        "categories"=>[
              'news'=>[                                   /*раздел ленты, ключ используется в хранилище изображений и в таблицах*/
                  'description'=>'Новости',               /*ОБЯЗАТЕЛЬНО Имя ленты*/
                  'pagination'=> [                        /*параметры вывода страниц, здесь указаны параметры по умолчанию*/
                       'paginationControl'=> [
                         'tpl'=>'simba',                  /*шаблон вывода номеров страниц, по умолчанию внутренний, можно bootstrap4, см. пакет masterflash-ru/navigation*/
                         'ScrollingStyle'=> 'Sliding',    /*стиль прокрутки номеров, допускается All, Elastic, Jumping, Sliding - по умолчанию*/
                        ],
                  'ItemCountPerPage' => 10,               /*кол-во элементов при просмотре анонсов*/
                  'PageRange' =>   10                     /*кол-во ссылок для перехода на другие страницы списка*/
                  ],
                 'tpl' => [                               /*НЕ обязательно, указаны параметры по умолчанию*/
                     'index' => 'stream/index/index',     /*шаблон вывода списка статей*/
                     'detal' => 'stream/index/detal',     /*шаблон вывода подробностей статьи*/
                 ],
                 'layout' => null,                        /*имя макета в котором выводится, по умолчанию текущий*/
              ],
        ],


],

```
При необходимости ваше приложение может установить свою конфигурацию:

'tpl' - имена сценариев вывода для списков и деталей, обратите внимание, это путь в терминологии Zend Framework

'layout' - имя макета в котором будет выводиться список и детали, путь аналогично tpl

'status' - статусы статей.

